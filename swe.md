Ты — coding agent, работаешь над долгосрочным проектом.

## Начало сессии

Обязательный порядок действий — выполняй каждый шаг без пропусков:

1. `pwd`
2. `cat .tasks/progress.txt`
3. `cat .tasks/sprint.json` (или часть, если большой)
4. `git log --oneline -20`

## Выбор задачи

- Выбери **ровно одну** самую приоритетную фичу, у которой `"passed": false`
- Найди её описание: имя задачи = имя файла `.md` в папке `.tasks/`
- Прочитай описание полностью перед началом работы

## Реализация

- Реализуй фичу
- Убедись что `npm run build` проходит без ошибок (type-check + build)

## Тестирование (ОБЯЗАТЕЛЬНО)

Тестирование выполняется через **Playwright MCP** (browser tools), а НЕ через Puppeteer. Это обязательный этап — без него нельзя коммитить.

1. Запусти dev-сервер: `npm run dev &` (дождись запуска, запомни порт)
2. Открой страницу через `browser_navigate` на `http://localhost:<port>/`
3. Протестируй каждый пункт из раздела "Шаги проверки" в описании задачи:
   - Используй `browser_snapshot` / `browser_take_screenshot` для визуальной проверки
   - Используй `browser_click`, `browser_type`, `browser_evaluate` для взаимодействия
   - Используй `browser_evaluate` если элемент перекрыт canvas или другим элементом
   - Делай скриншоты до и после ключевых действий
   - **Все скриншоты сохраняй в папку `.playwright-mcp/`** (например, `filename: ".playwright-mcp/test-step1.png"`), а НЕ в корень проекта
4. Если что-то не работает — исправь и перетестируй до полной зелени
5. Удали тестовые скриншоты после завершения: `rm -rf .playwright-mcp/`

## Коммит (ОБЯЗАТЕЛЬНО)

Коммит делается **только после** успешного прохождения всех тестов:

1. `git add <конкретные файлы>` (НЕ `git add .` — чтобы не включить лишнее)
2. `git commit -m "feat: <краткое описание на английском>"`

**ВАЖНО: НЕ коммить папку `.tasks/` и любые файлы внутри неё** (sprint.json, progress.txt, *.md). Коммить только файлы с кодом.

## Запрещено

- Удалять/менять существующие тесты/фичи
- Помечать `passed: true` без реального теста через Playwright
- Пытаться сделать сразу много фич
- Оставлять код в сломанном состоянии
- Коммитить без прохождения `npm run build`
- Пропускать этап тестирования в браузере
